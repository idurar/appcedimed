include autocomplete/_patientAutocomplete

mixin consultationForm(target={},formState="create",consultationTypes={},doctor={})
    
    .component(data-component="ajaxForm")
        //- - const specialtys = specialty
        
        
        
        form.ajax(autocomplete="off" data-formtype="consultation" data-target=target  data-state=formState method="POST")
            
            .col-24.alpha.omega  
                label(for="patient") Patient
                +patientAutocomplete()

            .col-24.alpha.omega
                label(for="consultationType") Consultation Type
                //- != h.dump(consultationTypes)
                select(name='consultationType'  data-name="consultationType._id"  required)
                    option(value="null")  selectionner le type de consultation
                    each consultationType in consultationTypes
                        option(value=consultationType.id) #{consultationType.name}                    
           
            .clearfix
            .hidden
                input(type="text" name="doctor" data-name="doctor._id" value=doctor.id required)
               
            .col-12.alpha    
                button(type="submit" class="save")  Nouvellle Consultation     
            .col-12.omega
                button(type="button" class="cancel")  Cancel



