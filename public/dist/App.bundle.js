!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}([function(e,t,n){"use strict";function r(e){return"[object Array]"===T.call(e)}function a(e){return"[object ArrayBuffer]"===T.call(e)}function o(e){return"undefined"!=typeof FormData&&e instanceof FormData}function i(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function l(e){return"string"==typeof e}function c(e){return"number"==typeof e}function u(e){return void 0===e}function s(e){return null!==e&&"object"===(void 0===e?"undefined":L(e))}function d(e){return"[object Date]"===T.call(e)}function f(e){return"[object File]"===T.call(e)}function p(e){return"[object Blob]"===T.call(e)}function v(e){return"[object Function]"===T.call(e)}function m(e){return s(e)&&v(e.pipe)}function y(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function h(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function g(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function S(e,t){if(null!==e&&void 0!==e)if("object"!==(void 0===e?"undefined":L(e))&&(e=[e]),r(e))for(var n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function b(){function e(e,n){"object"===L(t[n])&&"object"===(void 0===e?"undefined":L(e))?t[n]=b(t[n],e):t[n]=e}for(var t={},n=0,r=arguments.length;n<r;n++)S(arguments[n],e);return t}function w(){function e(e,n){"object"===L(t[n])&&"object"===(void 0===e?"undefined":L(e))?t[n]=w(t[n],e):"object"===(void 0===e?"undefined":L(e))?t[n]=w({},e):t[n]=e}for(var t={},n=0,r=arguments.length;n<r;n++)S(arguments[n],e);return t}function q(e,t,n){return S(t,function(t,r){e[r]=n&&"function"==typeof t?E(t,n):t}),e}var L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E=n(5),M=n(29),T=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:a,isBuffer:M,isFormData:o,isArrayBufferView:i,isString:l,isNumber:c,isObject:s,isUndefined:u,isDate:d,isFile:f,isBlob:p,isFunction:v,isStream:m,isURLSearchParams:y,isStandardBrowserEnv:g,forEach:S,merge:b,deepMerge:w,extend:q,trim:h}},function(e,t,n){"use strict";function r(e,t){return t.split(".").reduce(function(e,t){return void 0===e||null===e?e:e[t]},e)}function a(e,t){return t.split(".").every(function(t){return"object"==(void 0===e?"undefined":y(e))&&null!==e&&t in e!=!1&&(e=e[t],!0)})}function o(e,t,n){return void 0==n&&(n="|"),t.split(n).map(function(t){return r(e,t)}).join(" ")}function i(e){for(var t=new FormData,n=e.querySelectorAll("input, select, textarea"),r=0;r<n.length;++r){var a=n[r],o=a.name;if(o&&"true"!=a.dataset.disabled)if("file"==a.type){var i=a.files[0];t.append(o,i)}else{var l=a.value;l&&l.trim()&&t.append(o,l)}}return t}function l(e){var t=new Date(e),n=t.getDate().toString(),r=(t.getMonth()+1).toString(),a=t.getFullYear();return r.length<2&&(r="0"+r),n.length<2&&(n="0"+n),n+"/"+r+"/"+a}function c(e){var t=new Date(e).toLocaleTimeString();return l(e)+" "+t}function u(e,t){t.querySelectorAll("[data-property]").forEach(function(t){var n=t.dataset.type,r=o(e,t.dataset.property);switch(console.log({type:n}),n){case"date":r=l(r);break;case"datetime":r=c(r);break;case"currency":r=r.toFixed(2).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}t.innerHTML=r})}function s(){var e=String.fromCharCode(Math.floor(25*Math.random()+65));do{var t=Math.floor(25*Math.random()+65);e+=String.fromCharCode(t),e+=Math.floor(99*Math.random())}while(e.length<8);return e}function d(e){for(var t={},n=e.querySelectorAll("input, select, textarea"),r=0;r<n.length;++r){var a=n[r],o=a.name,i=a.value;o&&(t[o]=i)}return t}function f(e,t,n){var r=JSON.parse(e);t.dataset.action="edit",t.dataset.id=n;for(var a=t.querySelectorAll("input, select, textarea"),o=0;o<a.length;++o){var i=a[o];i.value=r[i.name]}return r}function p(e){e.dataset.action="new",e.dataset.id=null;for(var t=e.querySelectorAll("input, select,textarea"),n=e.querySelectorAll(".autocomplete"),r=0;r<t.length;++r){var a=t[r];a.value="",a.dataset.value=""}[].forEach.call(n,function(e){var t=e.querySelector("select");null!=t&&t.parentNode&&t.parentNode.removeChild(t)})}function v(e){for(var t=e.querySelectorAll("input, select, textarea"),n=0;n<t.length;++n){var r=t[n];if(r.hasAttribute("required")&&0==r.value.length)return!1}return!0}function m(e){for(var t={},n=e.querySelectorAll("input, select, textarea"),r=0;r<n.length;++r){var a=n[r],o=a.name,i=a.value;o&&"true"!=a.dataset.disabled&&(t[o]=i)}return t}Object.defineProperty(t,"__esModule",{value:!0});var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.get=r,t.has=a,t.valueByString=o,t.toFormData=i,t.formatDate=l,t.formatDatetime=c,t.bindValue=u,t.uniqueid=s,t.RowToObject=d,t.jsonToRow=f,t.resetRow=p,t.validateRow=v,t.formToObject=m,Object.byString=function(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var n=t.split("."),r=0,a=n.length;r<a;++r){var o=n[r];if(null==e)return;if(!(o in e))return;e=e[o]}return e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getDataSync=t.postDataSync=t.multiSync=t.uploadSync=t.listSync=t.searchSync=t.axiosRequest=t.filterSync=t.deleteSync=t.updateSync=t.readSync=t.createSync=void 0;var a=n(27),o=r(a),i=n(45),l=n(46),c=r(l);t.createSync=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return console.info("Create Api Data :  "+JSON.stringify(t)),n.loaderWarpper&&c.default.init(n.loaderWarpper),o.default.post(i.baseUrl+e+"/create",t).then(function(e){return e.data}).catch(function(e){return e.response.data}).finally(function(){n.loaderWarpper&&c.default.remove(n.loaderWarpper)})},t.readSync=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.loaderWarpper&&c.default.init(n.loaderWarpper),o.default.get(i.baseUrl+e+"/read/"+t).then(function(e){return e.data}).catch(function(e){return e.response.data}).finally(function(){n.loaderWarpper&&c.default.remove(n.loaderWarpper)})},t.updateSync=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return r.loaderWarpper&&c.default.init(r.loaderWarpper),o.default.patch(i.baseUrl+e+"/update/"+t,n).then(function(e){return e.data}).catch(function(e){return e.response.data}).finally(function(){r.loaderWarpper&&c.default.remove(r.loaderWarpper)})},t.deleteSync=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.loaderWarpper&&c.default.init(n.loaderWarpper),o.default.delete(i.baseUrl+e+"/delete/"+t).then(function(e){return e.data}).catch(function(e){return e.response.data}).finally(function(){n.loaderWarpper&&c.default.remove(n.loaderWarpper)})},t.filterSync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.loaderWarpper&&c.default.init(t.loaderWarpper);var n="",r="",a="";return t.filter&&(r="filter="+t.filter),t.equal&&(a="&equal="+t.equal),n="?"+r+a,o.default.get(i.baseUrl+e+"/filter"+n).then(function(e){return e.data}).catch(function(e){return e.response.data}).finally(function(){t.loaderWarpper&&c.default.remove(t.loaderWarpper)})},t.axiosRequest=function(){return o.default.CancelToken.source()},t.searchSync=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.loaderWarpper&&c.default.init(n.loaderWarpper);var r="";if(n!={}){var a="",l="";n.fields&&(a="fields="+n.fields),n.question&&(l="&q="+n.question),r="?"+a+l}return o.default.get(i.baseUrl+e+"/search"+r,{cancelToken:t.token}).then(function(e){return e.data}).catch(function(e){return void 0===e.response?{success:!1}:e.response.data}).finally(function(){n.loaderWarpper&&c.default.remove(n.loaderWarpper)})},t.listSync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.loaderWarpper&&c.default.init(t.loaderWarpper);var n="";if(t!={}){var r="",a="";t.page&&(r="page="+t.page),t.items&&(a="&items="+t.items),n="?"+r+a}return o.default.get(i.baseUrl+e+"/list"+n).then(function(e){return console.log(e.data),e.data}).catch(function(e){return e.response.data}).finally(function(){t.loaderWarpper&&c.default.remove(t.loaderWarpper)})},t.uploadSync=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return console.info("Create Api Data :  "+JSON.stringify(t)),n.loaderWarpper&&c.default.init(n.loaderWarpper),o.default.post(i.baseUrl+e+"/create",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data}).catch(function(e){return e.response.data}).finally(function(){n.loaderWarpper&&c.default.remove(n.loaderWarpper)})},t.multiSync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.loaderWarpper&&c.default.init(t.loaderWarpper),Promise.all(e).then(function(e){return e}).finally(function(){t.loaderWarpper&&c.default.remove(t.loaderWarpper)})},t.postDataSync=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.loaderWarpper&&c.default.init(n.loaderWarpper),o.default.post(i.baseUrl+e,t).then(function(e){return e.data}).catch(function(e){return e.response.data}).finally(function(){n.loaderWarpper&&c.default.remove(n.loaderWarpper)})},t.getDataSync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.loaderWarpper&&c.default.init(t.loaderWarpper),o.default.get(i.baseUrl+e).then(function(e){return e.data}).catch(function(e){return e.response.data}).finally(function(){t.loaderWarpper&&c.default.remove(t.loaderWarpper)})}},function(e,t,n){"use strict";function r(e,t){for(;e&&e.nodeType!==l;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}function a(e,t,n,r,a){var o=i.apply(this,arguments);return e.addEventListener(n,o,a),{destroy:function(){e.removeEventListener(n,o,a)}}}function o(e,t,n,r,o){return"function"==typeof e.addEventListener?a.apply(null,arguments):"function"==typeof n?a.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return a(e,t,n,r,o)}))}function i(e,t,n,a){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&a.call(e,n)}}var l=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var c=Element.prototype;c.matches=c.matchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector||c.webkitMatchesSelector}e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(19);Object.defineProperty(t,"accordionModel",{enumerable:!0,get:function(){return r(a).default}});var o=n(20);Object.defineProperty(t,"activeTab",{enumerable:!0,get:function(){return r(o).default}});var i=n(21);Object.defineProperty(t,"activeModel",{enumerable:!0,get:function(){return r(i).default}});var l=n(22);Object.defineProperty(t,"dropdown",{enumerable:!0,get:function(){return r(l).default}});var c=n(23);Object.defineProperty(t,"modal",{enumerable:!0,get:function(){return r(c).default}});var u=n(24);Object.defineProperty(t,"navApp",{enumerable:!0,get:function(){return r(u).default}});var s=n(25);Object.defineProperty(t,"panelModel",{enumerable:!0,get:function(){return r(s).default}});var d=n(26);Object.defineProperty(t,"searchInput",{enumerable:!0,get:function(){return r(d).default}});var f=n(47);Object.defineProperty(t,"selectToggle",{enumerable:!0,get:function(){return r(f).default}});var p=n(48);Object.defineProperty(t,"ajaxSelectInput",{enumerable:!0,get:function(){return r(p).default}});var v=n(49);Object.defineProperty(t,"subMenuDrawer",{enumerable:!0,get:function(){return r(v).default}});var m=n(50);Object.defineProperty(t,"tabPanel",{enumerable:!0,get:function(){return r(m).default}});var y=n(52);Object.defineProperty(t,"inputFunction",{enumerable:!0,get:function(){return r(y).default}});var h=n(54);Object.defineProperty(t,"fileUpload",{enumerable:!0,get:function(){return r(h).default}})},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var a=n(0);e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(a.isURLSearchParams(t))o=t.toString();else{var i=[];a.forEach(t,function(e,t){null!==e&&void 0!==e&&(a.isArray(e)?t+="[]":e=[e],a.forEach(e,function(e){a.isDate(e)?e=e.toISOString():a.isObject(e)&&(e=JSON.stringify(e)),i.push(r(t)+"="+r(e))}))}),o=i.join("&")}if(o){var l=e.indexOf("#");-1!==l&&(e=e.slice(0,l)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){function r(e,t){!a.isUndefined(e)&&a.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a=n(0),o=n(35),i={"Content-Type":"application/x-www-form-urlencoded"},l={adapter:function(){var e;return void 0!==t&&"[object process]"===Object.prototype.toString.call(t)?e=n(9):"undefined"!=typeof XMLHttpRequest&&(e=n(9)),e}(),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),a.isFormData(e)||a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e)?e:a.isArrayBufferView(e)?e.buffer:a.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):a.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},a.forEach(["delete","get","head"],function(e){l.headers[e]={}}),a.forEach(["post","put","patch"],function(e){l.headers[e]=a.merge(i)}),e.exports=l}).call(t,n(34))},function(e,t,n){"use strict";var r=n(0),a=n(36),o=n(6),i=n(38),l=n(39),c=n(10);e.exports=function(e){return new Promise(function(t,u){var s=e.data,d=e.headers;r.isFormData(s)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",v=e.auth.password||"";d.Authorization="Basic "+btoa(p+":"+v)}if(f.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?i(f.getAllResponseHeaders()):null,r=e.responseType&&"text"!==e.responseType?f.response:f.responseText,o={data:r,status:f.status,statusText:f.statusText,headers:n,config:e,request:f};a(t,u,o),f=null}},f.onabort=function(){f&&(u(c("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){u(c("Network Error",e,null,f)),f=null},f.ontimeout=function(){u(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var m=n(40),y=(e.withCredentials||l(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;y&&(d[e.xsrfHeaderName]=y)}if("setRequestHeader"in f&&r.forEach(d,function(e,t){void 0===s&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)}),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){f&&(f.abort(),u(e),f=null)}),void 0===s&&(s=null),f.send(s)})}},function(e,t,n){"use strict";var r=n(37);e.exports=function(e,t,n,a,o){var i=new Error(e);return r(i,t,n,a,o)}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){t=t||{};var n={};return r.forEach(["url","method","params","data"],function(e){void 0!==t[e]&&(n[e]=t[e])}),r.forEach(["headers","auth","proxy"],function(a){r.isObject(t[a])?n[a]=r.deepMerge(e[a],t[a]):void 0!==t[a]?n[a]=t[a]:r.isObject(e[a])?n[a]=r.deepMerge(e[a]):void 0!==e[a]&&(n[a]=e[a])}),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(57);Object.defineProperty(t,"consultationModule",{enumerable:!0,get:function(){return r(a).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a={toObject:function(e){for(var t={},n=e.querySelectorAll("input, select, textarea"),r=0;r<n.length;++r){var a=n[r],o=a.name,i=a.value;o&&(t[o]=i)}return t},rowToForm:function(e,t,n){var r=JSON.parse(e);t.dataset.action="edit",t.dataset.id=n;for(var a=t.querySelectorAll("input, select, textarea"),o=0;o<a.length;++o){var i=a[o];i.value=r[i.name]}return r},reset:function(e){var t=e.querySelector(".currentRow");t.dataset.action="new",t.dataset.id=null;for(var n=t.querySelectorAll("input, select,textarea"),r=t.querySelectorAll(".autocomplete"),a=0;a<n.length;++a){var o=n[a];o.value="",o.dataset.value=""}[].forEach.call(r,function(e){var t=e.querySelector("select");null!=t&&t.parentNode&&t.parentNode.removeChild(t)})},validate:function(e){for(var t=e.querySelectorAll("input, select, textarea"),n=0;n<t.length;++n){var r=t[n];if(r.hasAttribute("required")&&0==r.value.length)return!1}return!0},add:function(e){var t=e.querySelector(".currentRow"),n=e.querySelector(".medicament-row"),o=e.querySelector("form"),i=o.querySelector(".orgdropdown"),l=a.toObject(t),c=(0,r.uniqueid)(),u=t.dataset.action;if(a.validate(t)){var s=t.dataset.id||null,d='.calculation-row[data-row="'+s+'"]',f=n.querySelector(d);if("edit"==u&&null!=f){f.dataset.medicament=JSON.stringify(l),f.innerHTML="\n        "+a.item(l)+"\n        ";var p=i.cloneNode(!0);p.className="dropdown",p.querySelector("li.remove").dataset.id=s,p.querySelector("li.edit").dataset.id=s,f.appendChild(p)}if("new"==u){var v='<div class="content-row calculation-row" data-medicament=\''+JSON.stringify(l)+"' data-row='"+c+"'>\n        "+a.item(l)+"\n        </div>\n        ";n.innerHTML+=v;var m='.calculation-row[data-row="'+c+'"]',y=n.querySelector(m),h=i.cloneNode(!0);h.className="dropdown",h.querySelector("li.remove").dataset.id=c,h.querySelector("li.edit").dataset.id=c,y.appendChild(h)}a.reset(e)}},edit:function(e,t){var n=t.dataset.id,r=e.querySelector(".currentRow"),o='.calculation-row[data-row="'+n+'"]',i=e.querySelector(o),l=i.dataset.medicament;a.rowToForm(l,r,n)},remove:function(e,t){var n=t.dataset.id,r='.calculation-row[data-row="'+n+'"]',a=e.querySelector(r);a.parentNode&&a.parentNode.removeChild(a)},record:function(e,t){var n=e.querySelector("form"),o=n.querySelector(".orgdropdown"),i=(0,r.uniqueid)(),l='<div class="content-row calculation-row" data-medicament=\''+JSON.stringify(t)+"' data-row='"+i+"'>\n    "+a.item(t)+"\n    </div>\n    ",c=document.createElement("div");c.innerHTML=l;var u=c.querySelector(".calculation-row"),s=o.cloneNode(!0);return s.className="dropdown",s.querySelector("li.remove").dataset.id=i,s.querySelector("li.edit").dataset.id=i,u.appendChild(s),c.innerHTML},item:function(e){return'<div class="col-5"><span>'+e.medicamentName+'</span></div>\n    <div class="col-3"><span>'+e.boxesNumber+' Boite</span></div>\n    <div class="col-3"><span>'+e.daysNumber+' Jours</span></div>\n    <div class="col-3"><span>'+e.drugsNumber+' cp</span></div>\n    <div class="col-3"><span>'+e.times+' fois</span></div>\n    <div class="col-5"><span>'+e.note+"</span></div>"},render:function(e,t){var n=e.querySelector(".medicament-row"),r=t.medicamentsList,o=r.map(function(t){return a.record(e,t)});n.innerHTML=o.join("")}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(2),i=n(1),l={grid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],r=e.result,a=e.pagination;t.querySelector("tbody.tableBody").innerHTML="",t.querySelector("#pagination .prev").dataset.page="",t.querySelector("#pagination .next").dataset.page="";var o=!0,l=!1,c=void 0;try{for(var u,s=r[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var d=u.value,f=document.createElement("tr");f.dataset.id=d._id,f.dataset.json=JSON.stringify(d);var p=t.querySelector(".dropdown"),v=p.cloneNode(!0);v.querySelector("li.remove").dataset.id=d._id,v.querySelector("li.remove").dataset.displayLabel=(0,i.valueByString)(d,v.querySelector("li.remove").dataset.label||""),v.querySelector("li.edit").dataset.id=d._id,v.querySelector("li.edit").dataset.json=JSON.stringify(d),v.querySelector("li.read").dataset.id=d._id,v.querySelector("li.read").dataset.json=JSON.stringify(d);for(var m=0;m<n.length;++m){var y=(0,i.valueByString)(d,n[m]);f.appendChild(document.createElement("td")).textContent=y}var h=document.createElement("td");h.appendChild(v).classList.remove("hidden"),f.appendChild(h),t.querySelector("tbody.tableBody").appendChild(f)}}catch(e){l=!0,c=e}finally{try{!o&&s.return&&s.return()}finally{if(l)throw c}}var g="";g=a.page>1?parseInt(a.page)-1:"",t.querySelector("#pagination .prev").dataset.page=g;var S="";S=a.page<a.pages?parseInt(a.page)+1:"",t.querySelector("#pagination .next").dataset.page=S},pagination:function(e,t){var n=e.pagination;t.querySelector("#pagination ul.pages").innerHTML="";for(var r=1;r<=n.pages;++r){var a=document.createElement("li");a.innerHTML=r,a.dataset.page=r,r===n.page&&a.classList.add("active"),t.querySelector("#pagination ul.pages").appendChild(a)}},activePagination:function(e){for(var t=e,n=document.querySelectorAll("#pagination ul.pages li"),r=0;r<n.length;++r)n[r].classList.remove("active");n[t-1].classList.add("active")}},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.querySelector(".table"),a=JSON.parse(r.dataset.col);(0,o.listSync)(t,n).then(function(e){void 0!==e&&!1!==e.success&&(l.grid(e,r,a),l.pagination(e,r),l.activePagination(e.pagination.page))})},u={init:function(e){var t='.component[data-component="dataTable"] .table',n=e.querySelector(".table"),r=n.dataset.items||null,o=e.querySelector("select.itemsPerPage"),i=n.dataset.target;c(e,i,{items:r,loaderWarpper:t}),o.addEventListener("change",function(){r=this.value,c(e,i,{items:r,loaderWarpper:t})}),(0,a.default)(document.body,"#pagination ul.pages li","click",function(n){var r=n.delegateTarget.dataset.page;c(e,i,{page:r,loaderWarpper:t})},!1),n.querySelector("#pagination .next").addEventListener("click",function(){var n=this.dataset.page;c(e,i,{page:n,loaderWarpper:t})},!1),n.querySelector("#pagination .prev").addEventListener("click",function(){var n=this.dataset.page;c(e,i,{page:n,loaderWarpper:t})},!1)},refresh:function(e){var t=e.querySelector(".table"),n=t.dataset.target;c(e,n,{page:1,loaderWarpper:'.component[data-component="dataTable"] .table'})}};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(17);var a=n(18),o=r(a),i=n(4),l=n(55),c=r(l),u=n(56),s=n(15),d=r(s),f=n(13),p=n(61);(0,o.default)(function(){var e=document.querySelectorAll("input"),t=document.querySelectorAll('.component[data-component="dataTable"]'),n=document.querySelectorAll('.component[data-component="view-details"]'),r=document.querySelectorAll('.component[data-component="ajaxForm"]'),a=document.querySelectorAll('.component[data-component="ajaxSelect"]'),o=document.querySelectorAll('.component[data-component="ajaxSearch"]'),l=document.querySelectorAll('.component[data-component="searchList"]'),s=document.querySelectorAll('.component[data-component="tabContent"]'),v=document.querySelectorAll('.component[data-component="navigation"]'),m=document.querySelectorAll('.component[data-component="selecttoggle"]'),y=document.querySelectorAll('.component[data-component="panel"]'),h=document.querySelectorAll('.component[data-component="accordionForm"]'),g=document.querySelectorAll('.component[data-component="prescriptionGrid"]');window.modal=i.modal,(0,i.dropdown)(),(0,i.subMenuDrawer)(),p.erpModule.init(),[].forEach.call(e,function(e){(0,i.inputFunction)(e)}),(0,c.default)(".datepicker"),[].forEach.call(m,function(e){(0,i.selectToggle)(e)}),[].forEach.call(t,function(e){d.default.init(e)}),[].forEach.call(n,function(e){(0,u.initCrudPanel)(e)}),[].forEach.call(r,function(e){(0,u.formSubmit)(e,"form.ajax")}),[].forEach.call(a,function(e){(0,i.ajaxSelectInput)(e,".ajaxSelect",".ajaxResult")}),[].forEach.call(o,function(e){(0,u.searchItem)(e,".searchAjax")}),[].forEach.call(l,function(e){(0,i.searchInput)(e,".searchList")}),[].forEach.call(v,function(e){(0,i.navApp)(e,".toggle")}),[].forEach.call(h,function(e){(0,i.accordionModel)(e,".accordionForm")}),[].forEach.call(s,function(e){(0,i.tabPanel)(e,"#tabs1")}),[].forEach.call(y,function(e){(0,i.panelModel)(e,".panel",".panelButton")}),[].forEach.call(g,function(e){f.consultationModule.init(e)})})},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){function n(){if(!o){o=!0;for(var e=0;e<a.length;e++)a[e].fn.call(window,a[e].ctx);a=[]}}function r(){"complete"===document.readyState&&n()}e=e||"docReadyfunc",t=t||window;var a=[],o=!1,i=!1;t[e]=function(e,t){if("function"!=typeof e)throw new TypeError("callback for docReadyfunc(fn) must be a function");if(o)return void setTimeout(function(){e(t)},1);a.push({fn:e,ctx:t}),"complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(n,1):i||(document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):(document.attachEvent("onreadystatechange",r),window.attachEvent("onload",n)),i=!0)}}("docReadyfunc",window);var r=window.docReadyfunc;t.default=r},function(e,t,n){"use strict";function r(){var e=document.querySelectorAll(".tab-content"),t=document.querySelectorAll('.component[data-component="view-details"]');[].forEach.call(e,function(e){e.classList.remove("is-active")}),[].forEach.call(t,function(e){e.querySelector(".panel-body").classList.add("hidden")})}function a(e,t){var n=document.querySelector(".add-click");n&&n.addEventListener("click",function(){r(),e.querySelector(t).classList.remove("disabled")},!1),e.querySelector(t+"Header").addEventListener("click",function(){r(),e.querySelector(t).classList.toggle("disabled")},!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=document.querySelectorAll(".tab-content"),n=document.querySelectorAll(".tab-link"),r=document.querySelectorAll(".edit"),a=document.querySelectorAll(".read"),o=document.querySelectorAll(".accordionForm"),i=document.querySelectorAll('.component[data-component="panel"]');[].forEach.call(i,function(e){e.querySelector(".panel").classList.remove("hide"),e.querySelector(".panelButton").classList.remove("panelHidden"),document.querySelector(".content").classList.remove("wide")}),[].forEach.call(t,function(e){e.classList.remove("is-active")}),[].forEach.call(n,function(e){e.classList.remove("is-active")}),[].forEach.call(t,function(){t[0].classList.add("is-active")}),[].forEach.call(n,function(){n[0].classList.add("is-active")}),e.includes("read")&&([].forEach.call(r,function(e){e.classList.add("hidden")}),[].forEach.call(a,function(e){e.classList.remove("hidden")})),e.includes("edit")&&([].forEach.call(a,function(e){e.classList.add("hidden")}),[].forEach.call(r,function(e){e.classList.remove("hidden")})),[].forEach.call(o,function(){o[0].classList.add("disabled")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){var t=document.querySelectorAll(".model");[].forEach.call(t,function(e){e.classList.add("hidden")});var n=document.querySelector('.model[data-model="'+e+'"]');n&&n.classList.remove("hidden")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){var t=e.querySelector(".toggleOption").classList.contains("show"),n=document.querySelectorAll(".toggleOption.show");[].forEach.call(n,function(e){e.classList.remove("show")}),t?e.querySelector(".toggleOption").classList.remove("show"):e.querySelector(".toggleOption").classList.add("show")}function a(){(0,i.default)(document.body,".dropdown","click",function(e){r(e.delegateTarget)},!1),document.addEventListener("click",function(e){if(!e.target.closest(".dropdown")){var t=document.querySelectorAll(".toggleOption.show");[].forEach.call(t,function(e){e.classList.remove("show")})}},!1)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a},function(e,t,n){"use strict";function r(e){if(!e.target.closest(".modal-inner")){document.querySelector(".modal-visible")&&i()}}function a(e){27==e.keyCode&&i()}function o(e){e.target.classList.contains("closeModal")&&i()}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e=document.querySelector(".vanilla-modal");e&&(e.classList.remove("modal-visible"),document.getElementById("modal-content").innerHTML="",document.getElementById("modal-content").style=""),document.removeEventListener("keydown",a),document.removeEventListener("click",r,!0),document.removeEventListener("click",o)},l={init:function(){var e=document.createElement("div");e.classList.add("vanilla-modal");e.innerHTML='         \n       <div class="modal">\n       <div class="modal-inner"\n       ><div id="modal-content"></div></div></div>',document.body.appendChild(e)},open:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{default:null},n=document.querySelector(".vanilla-modal");n||(console.log("there is no vanilla modal class"),l.init(),n=document.querySelector(".vanilla-modal"));var i=document.getElementById(e),c=i.cloneNode(!0);c.classList.add("current-modal"),c.style="",document.getElementById("modal-content").appendChild(c),t.default||t.width&&t.height&&(document.getElementById("modal-content").style.width=t.width,document.getElementById("modal-content").style.height=t.height),n.classList.add("modal-visible"),document.addEventListener("click",r,!0),document.addEventListener("keydown",a),document.getElementById("modal-content").addEventListener("click",o)},close:function(){i()}};t.default=l},function(e,t,n){"use strict";function r(e,t){var n=e.querySelectorAll(".subMenu");e.addEventListener("mouseleave",function(){[].forEach.call(n,function(e){e.classList.remove("show")})}),(0,o.default)(document.body,".navMenu .toggle","click",function(e){var t=e.delegateTarget.querySelector(".subMenu"),r=t.classList.contains("show");[].forEach.call(n,function(e){e.classList.remove("show")}),r?t.classList.remove("show"):t.classList.add("show")},!1)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=r},function(e,t,n){"use strict";function r(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".content",a=function(){e.querySelector(t).classList.toggle("hide"),e.querySelector(n).classList.toggle("panelHidden"),document.querySelector(r).classList.toggle("wide")};e.querySelector(n).addEventListener("click",function(){a()},!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){function n(){var e=document.querySelectorAll("#hiddenSelect");console.log(e),0!=e.length&&e[0].parentNode.removeChild(e[0])}function r(e){if(!e)return!1;i(e),c>=e.length&&(c=0),c<0&&(c=e.length-1),e[c].classList.add("autocomplete-active")}function i(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}function l(e){for(var t=document.getElementsByClassName("autocomplete-items"),n=0;n<t.length;n++)e!=t[n]&&e!=u&&t[n].parentNode.removeChild(t[n])}var c,u=e.querySelector(t),s=u.dataset.target,d=null;u.addEventListener("setValue",function(e){var t=e.detail,n=document.createElement("SELECT");n.name=this.dataset.name,n.hidden=!0,n.setAttribute("id","hiddenSelect"),n.options[0]=new Option(t.display,t.id),console.log(t),u.parentNode.appendChild(n)}),u.addEventListener("input",function(){n(),d&&d.cancel(),d=(0,o.axiosRequest)();var t,r,i=this,f=this.value,p=document.createElement("SELECT");p.name=this.dataset.name;var v=this.dataset.output||"_id";if(p.hidden=!0,p.setAttribute("id","hiddenSelect"),l(),!f)return!1;c=-1,t=document.createElement("DIV"),t.setAttribute("id",this.id+"autocomplete-list"),t.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(t),r=document.createElement("DIV");r.classList.add("no-select"),r.innerHTML="Loading ...",t.appendChild(r);var m=this.value||null,y=this.dataset.fields||null;(0,o.searchSync)(s,d,{fields:y,question:m}).then(function(n){if(t.innerHTML="",void 0!=n&&!0===n.success&&n.result.length>0){var o=new Array(n.result.length),c=new Array(n.result.length);if(o.length>0)for(var s=0;s<n.result.length;s++){var d=n.result[s],m="";m=i.dataset.label?(0,a.valueByString)(n.result[s],i.dataset.label):n.result[s].name?n.result[s].name:n.result[s].toString(),c[s]=d[v],r=document.createElement("DIV"),r.innerHTML=m.substr(0,f.length),r.innerHTML+=m.substr(f.length),r.innerHTML+="<input type='hidden' value='"+m+"' data-value='"+c[s]+"'>",r.addEventListener("click",function(){u.value=this.getElementsByTagName("input")[0].value,u.dataset.value=this.getElementsByTagName("input")[0].dataset.value;var e=this.getElementsByTagName("input")[0].dataset.value,t=this.getElementsByTagName("input")[0].value;p.options[0]=new Option(t,e),i.parentNode.appendChild(p),l()}),t.appendChild(r)}}else{r=document.createElement("DIV");var y=e.getAttribute("data-error-message")||"No result found";r.classList.add("no-select"),r.innerHTML=y,t.appendChild(r)}})}),u.addEventListener("keydown",function(e){var t=document.getElementById(this.id+"autocomplete-list");t&&(t=t.getElementsByTagName("div")),40==e.keyCode?(c++,r(t)):38==e.keyCode?(c--,r(t)):13==e.keyCode?(e.preventDefault(),c>-1&&t&&t[c].click()):27==e.keyCode||9==e.keyCode?l():8==e.keyCode&&(l(),u.value="",delete u.dataset.id,n())}),document.addEventListener("click",function(e){l(e.target)})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(2);t.default=r},function(e,t,n){"use strict";e.exports=n(28)},function(e,t,n){"use strict";function r(e){var t=new i(e),n=o(i.prototype.request,t);return a.extend(n,i.prototype,t),a.extend(n,t),n}var a=n(0),o=n(5),i=n(30),l=n(11),c=n(8),u=r(c);u.Axios=i,u.create=function(e){return r(l(u.defaults,e))},u.Cancel=n(12),u.CancelToken=n(43),u.isCancel=n(7),u.all=function(e){return Promise.all(e)},u.spread=n(44),e.exports=u,e.exports.default=u},function(e,t,n){"use strict";/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";function r(e){this.defaults=e,this.interceptors={request:new i,response:new i}}var a=n(0),o=n(6),i=n(31),l=n(32),c=n(11);r.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=c(this.defaults,e),e.method=e.method?e.method.toLowerCase():"get";var t=[l,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},r.prototype.getUri=function(e){return e=c(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},a.forEach(["delete","get","head","options"],function(e){r.prototype[e]=function(t,n){return this.request(a.merge(n||{},{method:e,url:t}))}}),a.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(a.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=r},function(e,t,n){"use strict";function r(){this.handlers=[]}var a=n(0);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){a.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){"use strict";function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var a=n(0),o=n(33),i=n(7),l=n(8),c=n(41),u=n(42);e.exports=function(e){return r(e),e.baseURL&&!c(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=a.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),a.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||l.adapter)(e).then(function(t){return r(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(r(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===r||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===a||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function l(){y&&v&&(y=!1,v.length?m=v.concat(m):h=-1,m.length&&c())}function c(){if(!y){var e=o(l);y=!0;for(var t=m.length;t;){for(v=m,m=[];++h<t;)v&&v[h].run();h=-1,t=m.length}v=null,y=!1,i(e)}}function u(e,t){this.fun=e,this.array=t}function s(){}var d,f,p=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:r}catch(e){d=r}try{f="function"==typeof clearTimeout?clearTimeout:a}catch(e){f=a}}();var v,m=[],y=!1,h=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new u(e,t)),1!==m.length||y||o(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=s,p.addListener=s,p.once=s,p.off=s,p.removeListener=s,p.removeAllListeners=s,p.emit=s,p.prependListener=s,p.prependOnceListener=s,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t,n){var a=n.config.validateStatus;!a||a(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,a){return e.config=t,n&&(e.code=n),e.request=r,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(0),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,i={};return e?(r.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(i[t]&&a.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}}),i):i}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(a.setAttribute("href",t),t=a.href),a.setAttribute("href",t),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");return t=e(window.location.href),function(n){var a=r.isString(n)?e(n):n;return a.protocol===t.protocol&&a.host===t.host}}():function(){return function(){return!0}}()},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,a,o,i){var l=[];l.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),r.isString(a)&&l.push("path="+a),r.isString(o)&&l.push("domain="+o),!0===i&&l.push("secure"),document.cookie=l.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new a(e),t(n.reason))})}var a=n(12);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";t.baseUrl="https://idurarapi.herokuapp.com/v1/api/"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={init:function(e){var t=document.createElement("div");t.classList.add("loaderWarpper");t.innerHTML='<div class="loader"></div>';var n=document.body.querySelector(e);n.prepend(t),n.querySelector(".loaderWarpper").classList.add("showLoader")},remove:function(e){var t=document.body.querySelector(e),n=t.querySelector(".loaderWarpper");n&&(n.classList.remove("showLoader"),n.parentNode&&n.parentNode.removeChild(n))}};t.default=r},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.selectedComponent||".toggleDiv",r=e.querySelectorAll(n);e.querySelector("select").addEventListener("change",function(){var e=this.value;console.log(e),[].forEach.call(r,function(e){e.classList.add("hidden"),e.querySelector("input").required=!1}),[].forEach.call(r,function(t){t.classList.contains(e)&&(t.classList.remove("hidden"),t.classList.contains("isRequired")&&(t.querySelector("input").required=!0))})},!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t,n){var r=e.querySelector(t),o=r.dataset.id,i=n+'[data-id="'+o+'"]',l=e.querySelector(i);r.addEventListener("change",function(){console.log("e.target.value = "+this.value),l.disabled=!0,l.selectedIndex=0,l.options.length=0;var e=this.dataset.target,t=this.dataset.filter,n=this.value;(0,a.filterSync)(e,{filter:t,equal:n}).then(function(e){if(void 0!==e&&!1!==e.success&&1==e.success){var t=e.result,n=!0,r=!1,a=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value;l.options[l.options.length]=new Option(c.name+" "+c.surname,c._id)}}catch(e){r=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw a}}if(l.options.length>=1&&(l.disabled=!1),l.dataset.value){l.value=l.dataset.value;var u=new Event("change");l.dispatchEvent(u)}}})},!1)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.default=r},function(e,t,n){"use strict";function r(){var e=document.querySelectorAll(".has-sub-menu-drawer"),t=document.querySelector("nav .close-icon");e.forEach(function(e,n){var r=e.querySelector("ul");if(r){var a=document.createElement("div");a.classList.add("drawer"),a.classList.add("drawer-"+n),a.append(r.cloneNode(!0)),a.querySelector("ul").classList.add("navMenu");var o=document.createElement("button");o.classList.add("close");var i=t.cloneNode(!0);i.classList.remove("hidden"),o.append(i),a.prepend(o),e.querySelector("a").addEventListener("click",function(){a.classList.add("active")}),o.addEventListener("click",function(){a.classList.remove("active")}),e.closest(".nav-container").append(a)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){(0,o.default)({el:t,tabNavigationLinks:".tab-link",tabContentContainers:".tab-content"}).init(),e.addEventListener("click",function(){document.querySelector(".accordionForm").classList.add("disabled")},!1)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(51),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=document.querySelector(e.el),n=t.querySelectorAll(e.tabNavigationLinks),r=t.querySelectorAll(e.tabContentContainers),a=0,o=!1,i=function(){if(!o){o=!0,t.classList.remove("no-js");for(var e=0;e<n.length;e++){var r=n[e];l(r,e)}}},l=function(e,t){e.addEventListener("click",function(e){e.preventDefault(),c(t)})},c=function(e){e>=0&&e<=n.length&&(console.log(a),[].forEach.call(n,function(e){e.classList.remove("is-active")}),[].forEach.call(r,function(e){e.classList.remove("is-active")}),n[e].classList.add("is-active"),r[e].classList.add("is-active"),a=e)};return{init:i,goToTab:c}};window.tabs=r,t.default=r},function(e,t,n){"use strict";function r(e){var t=e.classList.contains("date"),n=e.classList.contains("datepicker");(t||n)&&(0,o.default)(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(53),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=r},function(e,t,n){"use strict";function r(e){var t=e;t.addEventListener("keyup",function(e){1==t.value.length&&parseInt(e.key)>=2&&(t.value="0"+e.key),4==t.value.length&&parseInt(e.key)>=4&&(t.value=t.value.slice(0,3)+"0"+e.key)}),t.addEventListener("keypress",function(e){t.value.length>=10&&e.preventDefault()}),t.addEventListener("keydown",function(e){(e.keyCode<47||e.keyCode>57)&&e.preventDefault();var n=t.value.length;1===n&&3===n||47==e.keyCode&&e.preventDefault(),2===n&&(t.value+="/"),5===n&&(t.value+="/"),8==e.keyCode&&(t.value="")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){function t(){n(this.files[0]).then(function(e){r(e)}).catch(function(){r(e.dataset.image)})}function n(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e)},r.readAsDataURL(e)})}function r(t){var n=document.createElement("div");if(n.classList.add("preview"),t){var r=document.createElement("img");r.src=t,n.appendChild(r)}e.querySelector(".preview").replaceWith(n)}e.querySelector('[type="file"]').addEventListener("change",t,!1),e.dataset.image&&r(e.dataset.image)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=null,o=function e(t,n){if(!(this instanceof e))return new e(t,n);a=self=this,self.options=i({},e.defaults,n),self.query=t,self.__init__()};o.prototype={constructor:o,__init__:function(){document.removeEventListener("click",self.bindCalendar,!1),document.removeEventListener("keypress",self.keypressHandler,!1),document.addEventListener("click",self.bindCalendar,!1),document.addEventListener("keypress",self.keypressHandler,!1)},matchesReferers:function(e){self.referers=document.querySelectorAll(self.query);for(var t=0;t<self.referers.length;t++)if(e===self.referers[t])return!0;return!1},close:function(){delete self.current,delete self.target,self.picker&&self.picker.remove()},show:function(e){if(self.target="undefined"!=(void 0===e?"undefined":r(e))?e:self.target,e||"undefined"==r(self.current)){var t=new Date;if(e&&(self.selected=null),e&&e.value){var n=self.parseDate(e.value);t=new Date(n),self.selected={year:t.getFullYear(),month:t.getMonth(),day:t.getDate()}}self.current={year:t.getFullYear(),month:t.getMonth()}}self.cleanPicker(),self.drawPicker()},cleanPicker:function(){var e=document.querySelector(".vanilla-datepicker");e&&e.remove()},drawPicker:function(){var e={x:self.target.offsetLeft,y:self.target.offsetTop+self.target.offsetHeight};self.picker=document.createElement("div"),self.picker.classList.add("vanilla-datepicker"),self.picker.style.left=e.x+"px",self.picker.style.top=e.y+"px",self.picker.appendChild(self.drawNavigation()),self.picker.appendChild(self.drawWeekHeader());for(var t=self.getWeeks(),n=0;n<t.length;n++)self.picker.appendChild(t[n]);self.target.parentNode.insertBefore(self.picker,self.target.nextSibling)},drawNavigation:function(){var e=document.createElement("div");e.classList.add("title-nav");var t=void 0,n=void 0,r=void 0,a=void 0,o=void 0;return self.options.navigateYear&&(t=document.createElement("div"),t.classList.add("year-navigate"),t.classList.add("nav-items"),t.classList.add("previous"),t.setAttribute("tabIndex",0),t.innerHTML='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024"> <title></title> <g id="icomoon-ignore"> </g> <path fill="#fff" d="M13.008 543.386l389.18 389.18c17.344 17.342 45.428 17.342 62.772 0 17.342-17.328 17.342-45.444 0-62.772l-357.796-357.794 357.794-357.794c17.342-17.328 17.342-45.444 0-62.772-8.672-8.672-20.022-13.008-31.386-13.008s-22.73 4.336-31.386 13.008l-389.18 389.18c-17.342 17.328-17.342 45.444 0.002 62.772z"></path> <path fill="#fff" d="M559.042 543.386l389.18 389.18c17.328 17.342 45.444 17.342 62.772 0 17.342-17.328 17.342-45.444 0-62.772l-357.78-357.794 357.778-357.794c17.342-17.328 17.342-45.444 0-62.772-8.656-8.672-20.022-13.008-31.386-13.008s-22.73 4.336-31.386 13.008l-389.18 389.18c-17.34 17.328-17.34 45.444 0.002 62.772z"></path> </svg>',t.addEventListener("click",self.getPreviousYear,!1),n=document.createElement("div"),n.classList.add("year-navigate"),n.classList.add("next"),n.classList.add("nav-items"),n.setAttribute("tabIndex",0),n.innerHTML='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024"> <title></title> <g id="icomoon-ignore"> </g> <path fill="#fff" d="M1010.992 480.614l-389.18-389.18c-17.344-17.342-45.428-17.342-62.772 0-17.342 17.328-17.342 45.444 0 62.772l357.796 357.794-357.794 357.794c-17.342 17.328-17.342 45.444 0 62.772 8.672 8.672 20.022 13.008 31.386 13.008s22.73-4.336 31.386-13.008l389.18-389.18c17.342-17.328 17.342-45.444-0.002-62.772z"></path> <path fill="#fff" d="M464.958 480.614l-389.18-389.18c-17.328-17.342-45.444-17.342-62.772 0-17.342 17.328-17.342 45.444 0 62.772l357.78 357.794-357.778 357.794c-17.342 17.328-17.342 45.444 0 62.772 8.656 8.672 20.022 13.008 31.386 13.008s22.73-4.336 31.386-13.008l389.18-389.18c17.34-17.328 17.34-45.444-0.002-62.772z"></path> </svg>',n.addEventListener("click",self.getNextYear,!1)),r=document.createElement("div"),r.classList.add("month-navigate"),r.classList.add("nav-items"),r.classList.add("previous"),r.setAttribute("tabIndex",0),r.innerHTML='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024"> <title></title> <g id="icomoon-ignore"> </g> <path fill="#fff" d="M331.295 512.238l444.985-444.985c15.384-15.386 15.384-40.33 0-55.716-15.388-15.381-40.33-15.381-55.716 0l-472.843 472.843c-15.381 15.386-15.381 40.33 0 55.716l472.843 472.843c15.654 15.118 40.598 14.684 55.716-0.97 14.746-15.27 14.746-39.478 0-54.746l-444.985-444.985z"></path> </svg>',r.addEventListener("click",self.getPreviousMonth,!1),o=document.createElement("div"),o.classList.add("month-navigate"),o.classList.add("nav-items"),o.classList.add("next"),o.setAttribute("tabIndex",0),o.innerHTML='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024"> <title></title> <g id="icomoon-ignore"> </g> <path fill="#fff" d="M776.847 483.9l-473.63-472.32c-15.518-15.466-40.642-15.44-56.134 0.080-15.48 15.518-15.44 40.656 0.080 56.134l445.438 444.208-445.454 444.206c-15.518 15.48-15.558 40.602-0.080 56.122 7.766 7.78 17.94 11.67 28.114 11.67 10.148 0 20.282-3.864 28.034-11.59l473.632-472.308c7.474-7.436 11.668-17.556 11.668-28.1s-4.206-20.652-11.668-28.102z"></path> </svg>',o.addEventListener("click",self.getNextMonth,!1),a=document.createElement("div"),a.classList.add("month-lable"),a.classList.add("nav-items"),a.innerHTML=self.options.months.long[self.current.month]+" "+self.current.year,self.options.navigateYear&&e.appendChild(t),e.appendChild(r),e.appendChild(a),e.appendChild(o),self.options.navigateYear&&e.appendChild(n),e},getPreviousYear:function(){var e=new Date(self.current.year-1,self.current.month);self.current={year:e.getFullYear(),month:e.getMonth()},self.show()},getNextYear:function(){var e=new Date(self.current.year+1,self.current.month);self.current={year:e.getFullYear(),month:e.getMonth()},self.show()},getPreviousMonth:function(){var e=new Date(self.current.year,self.current.month-1);self.current={year:e.getFullYear(),month:e.getMonth()},self.show()},getNextMonth:function(){var e=new Date(self.current.year,self.current.month+1);self.current={year:e.getFullYear(),month:e.getMonth()},self.show()},drawWeekHeader:function(){var e=self.options.weekdays.short.slice(self.options.firstDayOfWeek).concat(self.options.weekdays.short.slice(0,self.options.firstDayOfWeek)),t=document.createElement("div");t.classList.add("week-header");for(var n=0;n<7;n++){var r=document.createElement("div");r.setAttribute("tabIndex",0),r.innerHTML=e[n],t.appendChild(r)}return t},getWeeks:function(){var e=(self.options.weekdays.short.slice(self.options.firstDayOfWeek).concat(self.options.weekdays.short.slice(0,self.options.firstDayOfWeek)),new Date(self.current.year,self.current.month,1).getDay());e=e<self.options.firstDayOfWeek?e-self.options.firstDayOfWeek+7:e-self.options.firstDayOfWeek;for(var t=new Date(self.current.year,self.current.month,0).getDate(),n=new Date(self.current.year,self.current.month+1,0).getDate(),r=[],a=[],o=e-1;o>=0;o--){var i=document.createElement("div");i.classList.add("no-select"),i.innerHTML=t-o,r.push(i)}for(var o=0;o<n;o++){o&&(e+o)%7==0&&(a.push(self.addWeek(r)),r=[]);var i=document.createElement("div");i.classList.add("day"),self.selected&&self.selected.year==self.current.year&&self.selected.month==self.current.month&&self.selected.day==o+1&&i.classList.add("selected"),i.setAttribute("tabIndex",0),i.innerHTML=o+1,r.push(i)}if(r.length){for(var l=r.length,o=0;o<7-l;o++){var i=document.createElement("div");i.classList.add("no-select"),i.innerHTML=o+1,r.push(i)}a.push(self.addWeek(r))}return a},addWeek:function(e){var t=document.createElement("div");t.classList.add("week");for(var n=0;n<e.length;n++)t.appendChild(e[n]);return t},setDate:function(e){var t=self.target.value,n=new Date(self.current.year,self.current.month,e).getDay(),r=self.options.outputFormat.replace("%a",self.options.weekdays.short[n]).replace("%A",self.options.weekdays.long[n]).replace("%d",("0"+e).slice(-2)).replace("%e",e).replace("%b",self.options.months.short[self.current.month]).replace("%B",self.options.months.long[self.current.month]).replace("%m",("0"+(self.current.month+1)).slice(-2)).replace("%w",n).replace("%Y",self.current.year);if(self.target.value=r,r!==t)if("createEvent"in document){var a=document.createEvent("HTMLEvents");a.initEvent("change",!1,!0),self.target.dispatchEvent(a)}else self.target.fireEvent("onchange")},parseDate:function(e){for(var t=["%a","%A","%d","%e","%b","%B","%m","%w","%Y"],n=new RegExp(self.options.outputFormat.replace(/%[a-zA-Z]/g,"(.+)")),r=n.exec(self.options.outputFormat),a=n.exec(e),e=new Date,o=1;o<a.length;o++){if(-1==t.indexOf(r[o])){console.log("DatePicker : Format error");break}switch(r[o]){case"%d":case"%e":e.setDate(a[o]);break;case"%m":e.setMonth(parseInt(a[o])-1,e.getDate());break;case"%b":var i=self.options.months.short.indexOf(a[o]);case"%B":i=-1!=i?i:self.options.months.long.indexOf(a[o]),e.setMonth(i,e.getDate());break;case"%Y":e.setYear(a[o])}}return e},bindCalendar:function(e){var t=e.target;if(t.classList.contains("day"))self.setDate(t.innerHTML),self.close();else{for(;t&&!self.matchesReferers(t)&&"vanilla-datepicker"!=t.className;)t=t.parentNode;t&&self.matchesReferers(t)&&self.show(t),t||self.close()}},keypressHandler:function(e){13===(e.which||e.keyCode)&&self.bindCalendar(e)}},o.defaults={firstDayOfWeek:0,months:{short:["Jan","Fev","Mar","Avr","Mai","Jun","Jul","Aout","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},navigateYear:!0,outputFormat:"%d/%m/%Y",weekdays:{short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}};var i=function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=e.querySelector(t),a=r.dataset.listinfos;r.innerHTML="";for(var o=n.result,i=JSON.parse(a),l=0;l<i.length;++l){var c=document.createElement("li"),u=i[l].key,s=i[l].text,f=document.createElement("p"),p=document.createElement("p"),v=document.createElement("p");f.textContent=s,p.textContent=":",c.appendChild(f),c.appendChild(p),v.textContent=(0,d.valueByString)(o,u),c.appendChild(v),r.appendChild(c)}}function o(e){for(var t={},n=e.querySelectorAll("input, select, textarea"),r=0;r<n.length;++r){var a=n[r],o=a.name,i=a.value;o&&"true"!=a.dataset.disabled&&(t[o]=i)}return t}function i(e){var t=document.querySelector('.component[data-component="dataTable"]'),n='.component[data-component="panel"] .panel',r=e.dataset.target||t.dataset.target,a=e.dataset.state||"create",i=o(e);for(var l in i)if(i.hasOwnProperty(l)){var c=i[l];c&&c.trim()||(i[l]=void 0,delete i[l])}var u=null;if("create"===a)u=(0,h.createSync)(r,i,{loaderWarpper:n});else if("update"===a){var s=e.dataset.id;u=(0,h.updateSync)(r,s,i,{loaderWarpper:n})}null!=u&&u.then(function(n){if(void 0!==n&&!1!==n.success){document.querySelector("#pagination > ul > li.active")?y.default.refresh(t):y.default.init(t,".table","form.ajax");var a=e.dataset.formtype||"standard",o=JSON.stringify(n.result);b(r,o,a),e.reset()}})}function l(e,t){var n=e.querySelector(t);e.querySelector("button.cancel").addEventListener("click",function(){(0,s.activeTab)(["read"]),n.reset()},!1),n.addEventListener("submit",function(e){e.preventDefault(),i(n)})}function c(e,t){function n(){var e=document.querySelectorAll("#hiddenSelect");0!=e.length&&e[0].parentNode.removeChild(e[0])}function r(e){if(!e)return!1;a(e),i>=e.length&&(i=0),i<0&&(i=e.length-1),e[i].classList.add("autocomplete-active")}function a(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}function o(e){for(var t=document.getElementsByClassName("autocomplete-items"),n=0;n<t.length;n++)e!=t[n]&&e!=l&&t[n].parentNode.removeChild(t[n])}var i,l=e.querySelector(t),c=l.dataset.target,u=null;l.addEventListener("input",function(){n(),u&&u.cancel(),u=(0,h.axiosRequest)();var t,r,a=this,s=this.value,f=document.createElement("SELECT");f.name=this.dataset.name;var p=this.dataset.output||"_id";if(f.hidden=!0,f.setAttribute("id","hiddenSelect"),o(),!s)return!1;i=-1,t=document.createElement("DIV"),t.setAttribute("id",this.id+"autocomplete-list"),t.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(t),r=document.createElement("DIV");r.classList.add("no-select"),r.innerHTML="Loading ...",t.appendChild(r);var v=this.value||null,m=this.dataset.fields||null;(0,h.searchSync)(c,u,{fields:m,question:v}).then(function(n){if(t.innerHTML="",void 0!=n&&!0===n.success&&n.result.length>0)for(var i=new Array(n.result.length),c=0;c<n.result.length;c++){var u;!function(e){var c=n.result[e];u="",u=a.dataset.label?(0,d.valueByString)(n.result[e],a.dataset.label):n.result[e],i[e]=c[p],r=document.createElement("DIV"),r.innerHTML=u.substr(0,s.length),r.innerHTML+=u.substr(s.length),r.innerHTML+="<input type='hidden' value='"+u+"' data-value='"+i[e]+"'>",r.addEventListener("click",function(){l.value=this.getElementsByTagName("input")[0].value,l.dataset.value=this.getElementsByTagName("input")[0].dataset.value;var e=this.getElementsByTagName("input")[0].dataset.value,t=this.getElementsByTagName("input")[0].value;if(f.options[0]=new Option(t,e),a.parentNode.appendChild(f),l.dataset.change){var n=new CustomEvent("select",{detail:{display:u,json:JSON.stringify(c),result:c}});l.dispatchEvent(n)}o()}),t.appendChild(r)}(c)}else{r=document.createElement("DIV");var v=e.getAttribute("data-error-message")||"No result found";r.classList.add("no-select"),r.innerHTML=v,t.appendChild(r)}})}),l.addEventListener("keydown",function(e){var t=document.getElementById(this.id+"autocomplete-list");t&&(t=t.getElementsByTagName("div")),40==e.keyCode?(i++,r(t)):38==e.keyCode?(i--,r(t)):13==e.keyCode?(e.preventDefault(),i>-1&&t&&t[i].click()):27==e.keyCode||9==e.keyCode?o():8==e.keyCode&&(o(),l.value="",delete l.dataset.id,n())}),document.addEventListener("click",function(e){o(e.target)})}Object.defineProperty(t,"__esModule",{value:!0}),t.setCurrentRecord=t.removeItem=t.viewItem=t.editItem=t.toForm=t.initCrudPanel=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.standardView=a,t.toJson=o,t.ajaxForm=i,t.formSubmit=l,t.searchItem=c;var s=n(4),d=n(1),f=n(3),p=r(f),v=n(13),m=n(15),y=r(m),h=n(2),g=(t.initCrudPanel=function(e){var t=document.querySelector('form.ajax[data-state="update"]'),n=document.querySelector('.component[data-component="dataTable"] .table'),r=n.dataset.viewtype,a=n.dataset.target;(0,p.default)(document.body,".tableBody tr .dropdown .edit","click",function(e){S(t,a,e.delegateTarget.dataset.json)},!1),(0,p.default)(document.body,".tableBody tr .dropdown .read","click",function(e){b(a,e.delegateTarget.dataset.json,r)},!1),(0,p.default)(document.body,".tableBody tr .dropdown .remove","click",function(e){var t=e.delegateTarget.dataset.displayLabel;w(a,e.delegateTarget.dataset.id,t)},!1),(0,p.default)(document.body,".meta-actions .meta-remove","click",function(t){var n=e.dataset.target,r=t.delegateTarget.dataset.displayLabel;w(n,t.delegateTarget.dataset.id,r)},!1),(0,p.default)(document.body,".meta-actions .meta-edit","click",function(t){var n=document.querySelector('form.ajax[data-state="update"]'),r=e.dataset.target;S(n,r,t.delegateTarget.dataset.json)},!1);var o=document.querySelector('.component[data-component="ajaxSearch"]'),i=o.querySelector(".searchAjax");i&&i.addEventListener("select",function(e){var t=i.dataset.target,n=document.querySelector('form.ajax[data-state="update"]'),r=n.dataset.formtype||"standard",a=e.detail;void 0!==a&&!1!==a.success&&b(t,a.json,r)},!1)},t.toForm=function(e,t){if(t||(t=document.querySelector("form.ajax")),t){t.reset();var n=t.querySelectorAll(".autocomplete");[].forEach.call(n,function(e){var t=e.querySelectorAll("select");[].forEach.call(t,function(e){null!=e&&e.parentNode&&e.parentNode.removeChild(e)})});for(var r=t.querySelectorAll("input, select, textarea"),a=0;a<r.length;++a){var o,i,l;!function(t){var n=r[t];if(n.classList.contains("ajaxResult"))o=e.result[n.name],n.dataset.value=o._id;else if(n.classList.contains("ajaxSelect"))i=e.result[n.name],n.value=i._id||i,setTimeout(function(){var e=new Event("change");n.dispatchEvent(e)},100);else if(n.classList.contains("searchList")){l=e.result[n.name],n.dataset.label&&"object"==u(e.result[n.name])&&(i=(0,d.valueByString)(e.result[n.name],n.dataset.label),l=e.result[n.name]._id),n.value=i,n.dataset.value=l;var a=document.createElement("SELECT");a.name=n.name,a.hidden=!0,a.setAttribute("id","hiddenSelect"),a.options[0]=new Option(i,l),n.parentNode.appendChild(a)}else{var c=n.dataset.name||n.name;console.log(c),i=(0,d.valueByString)(e.result,c),n.value=i._id||i}}(a)}}}),S=t.editItem=function(e,t,n){e||(e=document.querySelector('form.ajax[data-state="update"]'));var r=document.querySelector('.component[data-component="view-details"]');r&&r.querySelector(".panel-body").classList.remove("hidden");var a=JSON.parse(n);e.dataset.id=a._id;var o=JSON.parse(n),i={result:o};q(t,i),(0,s.activeTab)(["edit"]),g(i,e)},b=t.viewItem=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"standard";console.log(t);var r=JSON.parse(t),o={result:r};if(q(e,o),(0,s.activeTab)(["read"]),"consultation"==n){var i=document.querySelectorAll('.component[data-component="consultationInfo"]');[].forEach.call(i,function(e){v.consultationModule.info(e,o)})}else{var l=document.querySelectorAll('.component[data-component="information"]');[].forEach.call(l,function(e){a(e,"ul.info",o)})}},w=t.removeItem=function(e,t,n){function r(){(0,h.deleteSync)(e,t).then(function(){(0,s.accordionBar)(),document.querySelector('[data-component="accordionForm"]').querySelector(".accordionForm").classList.remove("disabled");var e=document.querySelectorAll('.component[data-component="dataTable"]');[].forEach.call(e,function(e){y.default.refresh(e)}),window.modal.close()})}void 0!=n&&(document.getElementById("delete-record").querySelector(".row-info").innerHTML=" : "+n),window.modal.open("delete-record");var a=document.querySelector(".current-modal");if(a){var o=a.querySelector(".delete-confirm");o&&(o.removeEventListener("click",r,!1),o.addEventListener("click",r,!1))}},q=t.setCurrentRecord=function(e,t){var n=t.result,r=document.querySelector('.component[data-component="view-details"]');r.dataset.target=e;var a=r.querySelector(".info-title"),o=r.querySelector(".meta-actions");if(r.querySelector(".panel-body").classList.remove("hidden"),"patient"==r.dataset.page&&r.querySelectorAll(".tab-link").forEach(function(e,t){var a=r.querySelectorAll(".tab-content")[t],o=a.querySelector(".item-list");e.dataset.loaded=!1,o&&e.addEventListener("click",function(){var e=o.dataset.get+"/"+n._id;o.dataset.getUrl=e})}),a&&a.dataset.key){var i=(0,d.valueByString)(n,a.dataset.key);a.innerHTML=a.dataset.prefix+" "+i}o.querySelector(".meta-edit")&&(o.querySelector(".meta-edit").dataset.id=n._id,o.querySelector(".meta-edit").dataset.json=JSON.stringify(n)),o.querySelector(".meta-remove")&&(o.querySelector(".meta-remove").dataset.id=n._id,o.querySelector(".meta-remove").dataset.label&&(o.querySelector(".meta-remove").dataset.displayLabel=(0,d.valueByString)(n,o.querySelector(".meta-remove").dataset.label))),o.querySelector(".meta-print")&&(o.querySelector(".meta-print").dataset.id=n._id)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.querySelector(".currentRow"),n=e.querySelector(".medicament-row");if(n&&(n.innerHTML="",t)){t.dataset.action="new",t.dataset.id=null;for(var r=t.querySelectorAll("input, select, textarea"),a=0;a<r.length;++a){var o=r[a];o.value="",o.dataset.value=""}var i=t.querySelectorAll(".autocomplete");[].forEach.call(i,function(e){var t=e.querySelector("select");null!=t&&t.parentNode&&t.parentNode.removeChild(t)})}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(4),l=n(3),c=r(l),u=n(14),s=r(u),d=n(58),f=r(d),p=n(59),v=r(p),m={init:function(e){var t=e.querySelector("button.newMedicament"),n=e.querySelector(".savePrescription"),r=e.querySelector(".prescriptionType"),a=e.querySelector(".back"),l=e.querySelectorAll(".prescriptionForm"),u=document.querySelector('.component[data-component="recorder-toggle"]'),d=e.querySelector("form");(0,c.default)(document.body,".prescriptionItem .remove","click",function(t){f.default.remove(e,t.delegateTarget)},!1),(0,c.default)(document.body,".prescriptionItem .edit","click",function(t){f.default.edit(e,t.delegateTarget)},!1),(0,c.default)(document.body,".prescriptionItem .download","click",function(e){f.default.download(e.delegateTarget)},!1),(0,c.default)(document.body,".report .remove","click",function(t){v.default.remove(e,t.delegateTarget)},!1),(0,c.default)(document.body,".medicament-row .edit","click",function(t){s.default.edit(e,t.delegateTarget)},!1),(0,c.default)(document.body,".medicament-row .remove","click",function(t){s.default.remove(e,t.delegateTarget)},!1),r&&r.addEventListener("change",function(){f.default.type(e,this)}),a&&a.addEventListener("click",function(){d.dataset.status="new",d.dataset.idPrescription=null,s.default.reset(e),[].forEach.call(l,function(e){f.default.resetForm(e)}),(0,i.activeModel)("dataTable")}),u&&v.default.recorder(u),t.addEventListener("click",function(){s.default.add(e)}),d.addEventListener("keydown",function(e){if(13==e.keyCode)return e.preventDefault(),!1}),n.addEventListener("click",function(t){t.preventDefault();var n=e.querySelectorAll(".calculation-row"),a=e.querySelector(".letter"),c=e.querySelector("form"),u=f.default.formToObject(c),d=r.value,p=c.dataset.status,v=e.dataset.targetPrescription;if(u.medicamentsList=[],u.letter="","letter"==d){var m=a.querySelector("textarea");u.letter=m.value}else{var y=[];[].forEach.call(n,function(e){var t=e.dataset.medicament;if(void 0!=t){var n=JSON.parse(t);y.push(n)}}),u.medicamentsList=y}if(u.medicamentsList.length>0||""!=u.letter){var h=null;if("new"===c.dataset.status)h=(0,o.createSync)(v,u,{loaderWarpper:'.model[data-model="prescription"]'});else{var g=c.dataset.idPrescription||"";h=(0,o.updateSync)(v,g,u,{loaderWarpper:'.model[data-model="prescription"]'})}h.then(function(t){if(void 0!=t&&1==t.success&&(c.dataset.status="new",c.dataset.idPrescription=null,[].forEach.call(l,function(t){s.default.reset(e),f.default.resetForm(t)}),(0,i.activeModel)("dataTable"),(0,i.activeTab)(["read"]),"new"==p)){var n=[];n.push(t.result);var r=document.querySelector('.component[data-component="consultationInfo"]');r&&f.default.renderPrescription(r,n,!1)}})}else console.log("fields empty")},!1)},info:function(e,t){var n=e.querySelectorAll(".item-data[data-patientId]"),r=e.querySelectorAll(".item-data[data-patientName]"),l=e.querySelector("#newPrescription"),c=document.querySelector('.component[data-component="prescriptionGrid"]'),u=e.querySelector(".prescriptionItemList"),s=e.querySelector(".reportItemList");(0,i.activeModel)("dataTable"),document.querySelector('[data-component="recorder-toggle"]').dataset.id=t.result._id,[].forEach.call(n,function(e){e.innerHTML=t.result.patient.patientId||t.result.patient._id}),[].forEach.call(r,function(e){e.innerHTML=t.result.patient.name+" "+t.result.patient.surname}),u.innerHTML="",u.dataset.nbr=0;var d=u.dataset.targetPrescription,p=t.result._id,m=(0,o.filterSync)(d,{filter:"consultation",equal:p});s.innerHTML="",s.dataset.nbr=0;var y=s.dataset.targetRecorder,h=(0,o.filterSync)(y,{filter:"consultation",equal:p});(0,o.multiSync)([m,h],{loaderWarpper:'.component[data-component="panel"] .panel'}).then(function(t){var n=t[0],r=t[1];void 0!=n&&!0===n.success&&f.default.renderPrescription(e,n.result),void 0!=r&&!0===r.success&&v.default.renderRecord(e,r.result)}),l&&l.addEventListener("click",function(){if(c){c.querySelector("form").dataset.consultationId=t.result._id;var e=c.querySelector('input[name="consultation"]'),n=c.querySelector('input[name="patient"]'),r=c.querySelector('input[name="doctor"]'),o=c.querySelector(".page-title");e.value=t.result._id,n.value=t.result.patient._id,r.value=t.result.doctor._id,e.dataset.id=t.result._id,n.dataset.id=t.result.patient._id,r.dataset.id=t.result.doctor._id,o.innerHTML="Ordonnance #1 "+t.result.patient.name+" "+t.result.patient.surname,a(c)}(0,i.activeModel)("prescription")},!1)}};t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(4),o=n(1),i=n(14),l=function(e){return e&&e.__esModule?e:{default:e}}(i),c={type:function(e,t){var n=t.value,r=e.querySelector("form"),a=e.querySelector("."+n),o=e.querySelectorAll(".prescriptionForm");a&&([].forEach.call(o,function(t){t.classList.add("hidden"),r.dataset.status="new",r.dataset.idPrescription=null,l.default.reset(e),c.resetForm(t)}),a.classList.remove("hidden"))},resetForm:function(e){for(var t=e.querySelectorAll("input, select,textarea"),n=e.querySelector(".medicament-row"),r=0;r<t.length;++r){var a=t[r];a.value="",a.dataset.value=""}n&&(n.innerHTML="")},formToObject:function(e){for(var t={},n=e.querySelectorAll("input, select, textarea"),r=0;r<n.length;++r){var a=n[r],o=a.name,i=a.value;o&&"true"!=a.dataset.disabled&&(t[o]=i)}return t},edit:function(e,t){var n=t.dataset.id,o=e.querySelector("form"),i=e.querySelector(".prescriptionType"),c=e.dataset.targetPrescription;(0,a.activeModel)("prescription"),(0,r.readSync)(c,n,{loaderWarpper:'.model[data-model="prescription"]'}).then(function(t){if(1==t.success){var r=e.querySelector('input[name="consultation"]'),a=e.querySelector('input[name="patient"]'),c=e.querySelector('input[name="doctor"]'),u=e.querySelector(".page-title"),s=e.querySelector(".letter");r.value=t.result.consultation._id,a.value=t.result.patient._id,c.value=t.result.doctor._id,r.dataset.id=t.result.consultation._id,a.dataset.id=t.result.patient._id,c.dataset.id=t.result.doctor._id,u.innerHTML="Ordonnance #1 "+t.result.patient.name+" "+t.result.patient.surname;var d=t.result.type;i.value=d,i.dispatchEvent(new Event("change")),o.dataset.idPrescription=n,o.dataset.status="update","letter"==d?s.querySelector("textarea").value=t.result.letter:l.default.render(e,t.result)}})},remove:function(e,t){function n(){window.modal.close(),(0,r.deleteSync)(i,l,{loaderWarpper:c}).then(function(e){if(void 0!==e&&!1!==e.success&&(a.dispatchEvent(new Event("change")),o.dataset.status="new",o.dataset.idPrescription=null,1==e.success)){var t='.prescriptionItem[data-id="'+l+'"]',n=document.querySelector(t);n&&n.parentNode.removeChild(n)}})}var a=e.querySelector(".prescriptionType"),o=e.querySelector("form"),i=e.dataset.targetPrescription,l=t.dataset.id,c='.component[data-component="panel"] .panel';document.getElementById("delete-record").querySelector(".row-info").innerHTML=" : "+l,window.modal.open("delete-record");var u=document.querySelector(".current-modal");if(u){var s=u.querySelector(".delete-confirm");s&&(s.removeEventListener("click",n,!1),s.addEventListener("click",n,!1))}},download:function(e){var t=e.dataset.id,n=e.dataset.path+"-"+t+".pdf";window.open(n,"_blank")},renderPrescription:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.querySelector(".template .prescriptionItem"),a=e.querySelector(".prescriptionItemList");n&&(a.dataset.nbr=0,a.innerHTML="");var i=!0,l=!1,c=void 0;try{for(var u,s=t[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var d=u.value,f=r.cloneNode(!0),p=d.created,v=parseInt(a.dataset.nbr,10)+1||1;a.dataset.nbr=v,f.querySelector("span[data-prescriptionNbr]").innerHTML="Ordonnance #"+v,f.querySelector("span[data-prescriptionDate]").innerHTML=(0,o.formatDate)(p),f.dataset.id=d._id,f.querySelector(".edit").dataset.id=d._id,f.querySelector(".download").dataset.id=d._id,f.querySelector(".remove").dataset.id=d._id,a.appendChild(f)}}catch(e){l=!0,c=e}finally{try{!i&&s.return&&s.return()}finally{if(l)throw c}}}};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(1),o=n(60),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l={recorder:function(e){function t(){p.startRecording()}function n(){p.stopRecording()}function a(t){var n=e.dataset.targetRecorder,a=new FormData;a.append("name","Recording "+c),c++,a.append("audioFile",t),a.append("consultation",e.dataset.id),(0,r.uploadSync)(n,a,{loaderWarpper:d}).then(function(e){var t=[];t.push(e.result);var n=document.querySelector('.component[data-component="consultationInfo"]');n&&l.renderRecord(n,t,!1)})}var o=!1,c=1,u=e,s=u.innerHTML,d='.component[data-component="panel"] .panel',f=e;u.addEventListener("click",function(){o?(o=!1,n()):(o=!0,u.disabled=!0,t())});var p=(0,i.default)({onStop:function(e){a(e.blob),u.innerHTML=s},onReady:function(){this.isReady=!0,u.disabled=!1},onStatus:function(e,t){"init"!=t&&(f.innerHTML=e)}})},play:function(e){function t(){a.pause()}function n(){document.querySelectorAll("audio").forEach(function(e){e.pause()}),a.play()}var r=!1,a=document.createElement("audio");a.src=e.dataset.src,a.classList.add("hidden"),e.append(a),e.addEventListener("click",function(e){e.stopPropagation(),r?t():n()}),a.addEventListener("play",function(){r=!0,e.querySelector(".play").classList.add("hidden"),e.querySelector(".pause").classList.remove("hidden")}),a.addEventListener("pause",function(){r=!1,e.querySelector(".play").classList.remove("hidden"),e.querySelector(".pause").classList.add("hidden")})},remove:function(e,t){function n(){window.modal.close(),(0,r.deleteSync)(o,a,{loaderWarpper:i}).then(function(e){if(void 0!==e&&!1!==e.success&&1==e.success){var t='.report[data-id="'+e.result._id+'"]',n=document.querySelector(t);n&&n.parentNode.removeChild(n)}})}var a=t.dataset.id,o=e.dataset.targetRecorder,i='.component[data-component="panel"] .panel';document.getElementById("delete-record").querySelector(".row-info").innerHTML=" : "+a,window.modal.open("delete-record");var l=document.querySelector(".current-modal");if(l){var c=l.querySelector(".delete-confirm");c&&(c.removeEventListener("click",n,!1),c.addEventListener("click",n,!1))}},renderRecord:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.querySelector(".template .report"),o=e.querySelector(".reportItemList");n&&(o.innerHTML="",o.dataset.nbr=0);var i=!0,c=!1,u=void 0;try{for(var s,d=t[Symbol.iterator]();!(i=(s=d.next()).done);i=!0){var f=s.value,p=r.cloneNode(!0),v=parseInt(o.dataset.nbr,10)+1||1;o.dataset.nbr=v,p.dataset.id=f._id,p.querySelector("span[data-reportnbr]").innerHTML="Rapport #"+v,p.querySelector("span[data-reportdate]").innerHTML=(0,a.formatDate)(f.created);var m=p.querySelector(".playPushButton"),y=p.querySelector(".remove");m&&(m.dataset.src="/"+f.audioFile,l.play(m)),y&&(y.dataset.id=f._id,y.dataset.displaylabel=f.audioFile),o.appendChild(p)}}catch(e){c=!0,u=e}finally{try{!i&&d.return&&d.return()}finally{if(c)throw u}}}};t.default=l},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){function t(){v("Loading...");var e={audio:!0};try{window.AudioContext=window.AudioContext||window.webkitAudioContext||AudioContext,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||MediaDevices.getUserMedia,(g=new window.AudioContext)?navigator.getUserMedia(e,function(e){(S=g.createMediaStreamSource(e))?w?a():(v("Loading... "),f("lame","https://aws.nlited.org/js/lame.js",a)):v("OPPS: Unable to create audio source.")},function(e){console.log(e),v("OPPS: "+e)}):v("OPPS: Unable to create AudioContext.")}catch(e){v("OPPS: Unable to find any audio support."),g=null}}function n(){p("Power down..."),M?p("ERR: PowerOff: You need to stop recording first."):(L=null,q=null,b=null,S=null,g=null,p("Power OFF."))}function a(){w=!0,(L=o())?(E=[],k=0,x=0,e.onReady&&e.onReady(),c()):p("OPPS: Unable to create MP3 encoder.")}function o(){return p((q=new lamejs)?(L=new q.Mp3Encoder(T.chnlCt,T.sampleRate,T.bitRate))?"MP3 encoder created.":"OPPS: Unable to create MP3 encoder.":"OPPS: Unable to create LAME object."),L}function i(e){e=parseInt(e);var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),r=e-3600*t-60*n;r=Math.round(100*r)/100;var a=t<10?"0"+t:t;return a+=":"+(n<10?"0"+n:n),a+=":"+(r<10?"0"+r:r)}function l(){t()}function c(){var t;if(g)if(L)if(M)p("OPPS: Already recording.");else if(b||((t=S.context.createScriptProcessor||S.createJavaScriptNode)?(b=t.call(S.context,T.bufSz,T.chnlCt,T.chnlCt))||p("OPPS: Unable to create processor node."):p("OPPS: No processor creator?")),b){var n=S.context;y=Math.ceil(C*n.sampleRate/1024),b.onaudioprocess=s,S.connect(b),b.connect(S.context.destination),M=!0;var r=0;p("RECORD"),v("00:00:00"),h=setInterval(function(){r++;var t=i(r);e.onProgress&&e.onProgress(t),v(""+t)},1e3),e.onStart&&e.onStart({gIsRecording:M,gNode:b,gAudioSrc:S})}else p("OPPS: onRecord: No processor node.");else p("OPPS: No encoder.");else v("ERR: No Audio source.")}function u(t){if(p("Stop recording..."),g)if(S)if(M){b.onaudioprocess=null,S.disconnect(b),b.disconnect(),M=!1;var a=L.flush();a.length>0&&E.push(a);var o=new Blob(E,{type:"audio/mp3"});if(clearInterval(h),n(),e.onStop){var i;e.onStop((i={blob:o,gNode:b,gAudioSrc:S},r(i,"gNode",b),r(i,"gIsRecording",M),i))}p("STOP")}else p("OPPS: onStop: Not recording.");else p("OPPS: onStop: No audio source.");else p("OPPS: onStop: No audio.")}function s(e){if(!(x>y)){var t=e.inputBuffer,n=t.getChannelData(0),r=(n.length,d(n));if(r.length>0){k+=2*r.length;var a=L.encodeBuffer(r),o=a.length;o>0&&(E.push(a),x+=o)}}}function d(e){for(var t=e.length,n=new Int16Array(t),r=0;r<t;r++){var a=32768*e[r];a=a<-32767?-32767:a>32767?32767:a,n[r]=a}return n}function f(e,t,n){var r=document.createElement("SCRIPT");r.type="text/javascript",r.src=t;var a=document.getElementsByTagName("HEAD");null!=a[0]&&a[0].appendChild(r),null!=n&&(r.onreadystagechange=n,r.onload=n)}function p(t){console.log("log",t),e.onLog&&e.onLog(t)}function v(t,n){console.log("status",t),e.onStatus&&e.onStatus(t,n)}var m={onProgress:function(e){},onStart:function(e){e.gIsRecording,e.gNode,e.gAudioSrc},onStop:function(e){e.gIsRecording,e.gNode,e.gAudioSrc,e.blob},onReady:function(){},onLog:function(e){},onStatus:function(e){}};void 0==e&&(e={}),e=Object.assign(m,e),console.log({options:e});var y=0,h=null,g=null,S=null,b=null,w=!0,q=null,L=null,E=[],M=!1,T={chnlCt:1,bufSz:4096,sampleRate:44100,bitRate:64},k=0,x=0,C=72e5;return v("00:00:00","init"),{init:t,destory:n,startRecording:l,stopRecording:u}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(62);Object.defineProperty(t,"erpModule",{enumerable:!0,get:function(){return r(a).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=n(1),i=(n(4),n(3)),l=(r(i),n(63)),c=r(l),u={componentName:null,data:function(){var e=document.querySelector(u.componentName),t=e.querySelector("form"),n=e.querySelectorAll(".calculation-row"),r=(0,o.formToObject)(t);r.items=[];var a=[];return[].forEach.call(n,function(e){var t=e.dataset.item;if(void 0!=t){var n=JSON.parse(t);a.push(n)}}),a.length>0?(r.items=a,r):null},init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'.component[data-component="erpModule"]';u.componentName=e;var t=document.querySelector(u.componentName);if(t){c.default.init(t);var n=t.querySelector(".saveErp"),r=t.dataset.targetErp,o=t.querySelector("form");n.addEventListener("click",function(e){e.preventDefault();var t=u.data();if(t){var n=null;if("new"===o.dataset.status)n=(0,a.createSync)(r,t);else{var i=o.dataset.idErp||"";n=(0,a.updateSync)(r,i,t)}n.then(function(e){void 0!=e&&1==e.success&&(o.dataset.status="new",o.dataset.idErp=null)})}},!1)}}};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(3),i=r(o),l=n(64),c=r(l),u={currentRow:null,erpComponent:null,currentCurrency:"$",init:function(e){u.erpComponent=e,u.currentRow=e.querySelector(".currentRow");var t=u.currentRow,n=e.querySelector(".newItem"),r=t.querySelector('input[name ="price"]'),a=t.querySelector('input[name ="quantity"]'),o=t.querySelector('input[name ="total"]'),l=e.querySelector("select.taxRate");n.addEventListener("click",function(){u.add()}),l.addEventListener("change",function(){u.sum()}),(0,i.default)(document.body,".itemsRow .edit","click",function(e){u.edit(e.delegateTarget)},!1),(0,i.default)(document.body,".itemsRow .remove","click",function(e){u.remove(e.delegateTarget)},!1),r.addEventListener("input",function(){r.value=r.value<0?-r.value:r.value;var e=Math.abs(r.value)*Math.abs(a.value);o.value=parseFloat(e).toFixed(2)}),a.addEventListener("input",function(){a.value=a.value<0?-a.value:a.value;var e=Math.abs(r.value)*Math.abs(a.value);o.value=parseFloat(e).toFixed(2)})},singleItem:function(e){return'<div class="col-5"><span>'+e.itemName+'</span></div>\n    <div class="col-7"><span>'+e.description+'</span></div>\n    <div class="col-3"><span>'+e.quantity+' </span></div>\n    <div class="col-3"><span>'+(0,c.default)(e.price)+' DA</span></div>\n    <div class="col-4"><span>'+(0,c.default)(e.total)+" DA</span></div>\n    "},add:function(){var e=u.currentRow,t=u.erpComponent,n=t.querySelector(".itemsRow"),r=t.querySelector(".orgdropdown"),o=(0,a.RowToObject)(e),i=(0,a.uniqueid)(),l=e.dataset.action,c=r.cloneNode(!0);if(c.className="dropdown",(0,a.validateRow)(e)){var s=e.dataset.id||null,d='.calculation-row[data-row="'+s+'"]',f=n.querySelector(d);if("edit"==l&&null!=f&&(f.dataset.item=JSON.stringify(o),f.dataset.total=o.total,f.innerHTML="\n        "+u.singleItem(o)+"\n        ",c.querySelector("li.remove").dataset.id=s,c.querySelector("li.edit").dataset.id=s,f.appendChild(c)),"new"==l){var p='<div class="content-row calculation-row" data-total='+o.total+" data-item="+JSON.stringify(o)+" data-row='"+i+"'>\n        "+u.singleItem(o)+"\n        </div>\n        ";n.innerHTML+=p;var v='.calculation-row[data-row="'+i+'"]',m=n.querySelector(v);c.querySelector("li.remove").dataset.id=i,c.querySelector("li.edit").dataset.id=i,m.appendChild(c)}(0,a.resetRow)(e)}u.sum()},edit:function(e){var t=u.erpComponent,n=e.dataset.id,r=t.querySelector(".currentRow"),o='.calculation-row[data-row="'+n+'"]',i=t.querySelector(o),l=i.dataset.item;(0,a.jsonToRow)(l,r,n)},remove:function(e){var t=u.erpComponent,n=e.dataset.id,r='.calculation-row[data-row="'+n+'"]',a=t.querySelector(r);a.parentNode&&(a.parentNode.removeChild(a),u.sum())},render:function(e){var t=u.erpComponent,n=t.querySelector(".itemsRow"),r=e.items,o=r.map(function(e){var n=t.querySelector(".orgdropdown"),r=n.cloneNode(!0),o=(0,a.uniqueid)(),i='<div class="content-row calculation-row"\n                          data-total='+e.total+"\n                          data-item='"+JSON.stringify(e)+"' data-row='"+o+"'>\n                          "+u.singleItem(e)+"\n                      </div>",l=document.createElement("div");l.innerHTML=i;var c=l.querySelector(".calculation-row");return r.className="dropdown",r.querySelector("li.remove").dataset.id=o,r.querySelector("li.edit").dataset.id=o,c.appendChild(r),l.innerHTML});n.innerHTML=o.join(""),u.sum()},sum:function(){var e=u.erpComponent,t=e.querySelector(".itemsRow"),n=t.querySelectorAll(".calculation-row"),r=e.querySelector(".calcTotal"),a=r.querySelector(".subTotal"),o=r.querySelector("select.taxRate").value,i=r.querySelector(".taxTotal"),l=r.querySelector(".total"),s=0;n.forEach(function(e){var t=parseFloat(e.dataset.total);s+=t});var d=s*parseFloat(o),f=s+d;a.innerHTML=(0,c.default)(s.toFixed(2)),i.innerHTML=(0,c.default)(d.toFixed(2)),l.innerHTML=(0,c.default)(f.toFixed(2))}};t.default=u},function(e,t,n){"use strict";function r(e,t){var n="",r=String.fromCharCode(160),o=!0;if(!e&&0!==e)return n;var i=function(e){var t=e<0,n=String(e);t&&(n=n.slice(1));var r=n.split(".");return{integer:r[0],fraction:r[1]||"",sign:t?"-":""}}(e),l=String(e);return"object"===(void 0===t?"undefined":a(t))?(t.separator&&(r=t.separator),"boolean"==typeof t.formatFourDigits&&(o=t.formatFourDigits)):void 0!==t&&(r=t),i.integer.length<=3||4===i.integer.length&&!o?n=l:(n+=i.sign,n+=function(e,t){for(e=String(e);e.length%3;)e="#"+e;var n=e.substr(0,3);n=n.replace(/#/g,"");var r=void 0,a=e,o=a.length;for(r=3;r<o;r+=3)n=n+t+e.substr(r,3);return n}(i.integer,r),i.fraction&&(n+=".",n+=i.fraction)),n}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r}]);